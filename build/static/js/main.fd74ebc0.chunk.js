(this["webpackJsonpmonday-integration-quickstart-app"]=this["webpackJsonpmonday-integration-quickstart-app"]||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var r,c,a,i,o,s,l,u=n(0),d=n.n(u),b=n(37),p=n.n(b),f=(n(54),n(38)),j=n(39),h=n(47),m=n(46),O=(n(20),n(55),n(11)),x=n(2),v=n.n(x),g=n(6),y=n(5),w=n(4),k="#323338",C="#676879",I="#F5F6F8",E="#E6E9EF",M="#0085FF",S="#fff",F=n(3),R=F.b.p(r||(r=Object(w.a)(["\n  font-size: 22px;\n  color: ",";\n"])),(function(e){return e.theme.color})),N=F.b.p(c||(c=Object(w.a)(["\n  font-size: 18px;\n  color: ",";\n"])),(function(e){return e.theme.color})),B=F.b.p(a||(a=Object(w.a)(["\n  font-size: 16px;\n  color: ",";\n"])),(function(e){return e.theme.color})),P=F.b.div(i||(i=Object(w.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),H=F.b.button(o||(o=Object(w.a)(["\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n  outline: none;\n"]))),T=["title","titleId"];function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function J(e,t){var n=e.title,r=e.titleId,c=D(e,T);return u.createElement("svg",_({width:51,height:51,viewBox:"0 0 51 51",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),n?u.createElement("title",{id:r},n):null,s||(s=u.createElement("rect",{width:50.8697,height:50.8697,rx:25.4348,fill:"#E6E9EF"})),l||(l=u.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.4697 16.0303C22.8681 16.0303 22.3071 16.2906 21.9055 16.7269C21.506 17.1609 21.2926 17.7351 21.2926 18.3204V18.8764H19.5396H16.9196C16.4407 18.8764 16.0525 19.2646 16.0525 19.7435C16.0525 20.2224 16.4407 20.6106 16.9196 20.6106H18.6725V32.5512C18.6725 33.1365 18.8859 33.7108 19.2854 34.1448C19.6871 34.5811 20.248 34.8414 20.8497 34.8414H30.0198C30.6215 34.8414 31.1824 34.5811 31.5841 34.1448C31.9836 33.7108 32.1969 33.1365 32.1969 32.5512V20.6106H33.9499C34.4287 20.6106 34.817 20.2224 34.817 19.7435C34.817 19.2646 34.4287 18.8764 33.9499 18.8764H31.3298H29.5769V18.3204C29.5769 17.7351 29.3635 17.1609 28.9641 16.7269C28.5624 16.2906 28.0015 16.0303 27.3998 16.0303H23.4697ZM22.1565 20.6106C22.1576 20.6106 22.1586 20.6106 22.1597 20.6106H28.7098C28.7109 20.6106 28.7119 20.6106 28.7131 20.6106H30.4627V32.5512C30.4627 32.7208 30.4001 32.8704 30.3082 32.9702C30.2186 33.0676 30.113 33.1072 30.0198 33.1072H20.8497C20.7564 33.1072 20.6509 33.0676 20.5613 32.9702C20.4694 32.8704 20.4067 32.7208 20.4067 32.5512V20.6106H22.1565ZM27.8427 18.8764V18.3204C27.8427 18.1509 27.7801 18.0013 27.6882 17.9014C27.5986 17.804 27.493 17.7645 27.3998 17.7645H23.4697C23.3765 17.7645 23.271 17.804 23.1813 17.9014C23.0895 18.0013 23.0268 18.1509 23.0268 18.3204V18.8764H27.8427Z",fill:"#323338"})))}var L,U,V,W=u.forwardRef(J),z=(n.p,["title","titleId"]);function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function Q(e,t){var n=e.title,r=e.titleId,c=G(e,z);return u.createElement("svg",A({width:51,height:51,viewBox:"0 0 51 51",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),n?u.createElement("title",{id:r},n):null,L||(L=u.createElement("rect",{width:50.8697,height:50.8697,rx:25.4348,fill:"#E44258"})),U||(U=u.createElement("mask",{id:"path-2-inside-1",fill:"white"},u.createElement("rect",{x:18,y:18,width:16,height:16,rx:1}))),V||(V=u.createElement("rect",{x:18,y:18,width:16,height:16,rx:1,fill:"#E44258",stroke:"white",strokeWidth:3.6,mask:"url(#path-2-inside-1)"})))}var q,Z,X=u.forwardRef(Q),Y=(n.p,["title","titleId"]);function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function K(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function ee(e,t){var n=e.title,r=e.titleId,c=K(e,Y);return u.createElement("svg",$({width:51,height:51,viewBox:"0 0 51 51",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),n?u.createElement("title",{id:r},n):null,q||(q=u.createElement("rect",{width:50.8697,height:50.8697,rx:25.4348,fill:"#0085FF"})),Z||(Z=u.createElement("path",{d:"M33.168 26.152C33.4874 25.9676 33.6841 25.6269 33.6841 25.2581C33.6841 24.8893 33.4874 24.5485 33.168 24.3641L20.7809 17.2124C20.4615 17.028 20.068 17.028 19.7486 17.2124C19.4292 17.3968 19.2325 17.7376 19.2325 18.1064L19.2325 32.4098C19.2325 32.7785 19.4292 33.1193 19.7486 33.3037C20.068 33.4881 20.4615 33.4881 20.7809 33.3037L33.168 26.152Z",stroke:"white",strokeWidth:2.06452,strokeLinecap:"round",strokeLinejoin:"round"})))}var te,ne,re,ce=u.forwardRef(ee),ae=(n.p,["title","titleId"]);function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function oe(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function se(e,t){var n=e.title,r=e.titleId,c=oe(e,ae);return u.createElement("svg",ie({width:51,height:51,viewBox:"0 0 51 51",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),n?u.createElement("title",{id:r},n):null,te||(te=u.createElement("rect",{width:50.8697,height:50.8697,rx:25.4348,fill:"#0085FF"})),ne||(ne=u.createElement("line",{x1:21,y1:18,x2:21,y2:32,stroke:"white",strokeWidth:2,strokeLinecap:"round"})),re||(re=u.createElement("line",{x1:31,y1:18,x2:31,y2:32,stroke:"white",strokeWidth:2,strokeLinecap:"round"})))}var le,ue,de=u.forwardRef(se),be=(n.p,n(1)),pe=F.b.input(le||(le=Object(w.a)(["\n  margin-top: 20px;\n  padding: 8px;\n  border-radius: 5px;\n  width: 65%;\n  border-color: ",";\n  height: 20px;\n\n  &:focus {\n    outline: none;\n    box-shadow: none;\n  }\n"])),M),fe=F.b.button(ue||(ue=Object(w.a)(["\n  margin-top: 40px;\n  color: ",";\n  border-radius: 5px;\n  width: 70%;\n  height: 40px;\n  background-color: ",";\n  border: none;\n  outline: none;\n  cursor: ",";\n  pointer-events: ",";\n  opacity: ",";\n"])),S,M,(function(e){return!e.disabled&&"pointer"}),(function(e){return e.disabled&&"none"}),(function(e){return e.disabled&&"20%"})),je=function(e){var t=e.handleAdd,n=e.blob,r=Object(u.useState)(""),c=Object(y.a)(r,2),a=c[0],i=c[1];return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(pe,{type:Text,placeholder:"Add your title for your voice description",value:a,onChange:function(e){return function(e){i(e.target.value)}(e)}}),Object(be.jsx)(fe,{disabled:!a,onClick:function(){return t(a,n)},children:"ADD"})]})},he=function(e){var t=e.play,n=e.pause,r=e.isReplay,c=e.setIsReplay,a=Object(u.useCallback)((function(){t(),c(!0)}),[]),i=Object(u.useCallback)((function(){n(),c(!1)}),[]);return Object(be.jsx)(be.Fragment,{children:r?Object(be.jsx)(H,{onClick:i,children:Object(be.jsx)(de,{})}):Object(be.jsx)(H,{onClick:a,children:Object(be.jsx)(ce,{})})})};function me(){return(me=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({audio:!0});case 2:return t=e.sent,e.abrupt("return",new MediaRecorder(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Oe,xe,ve,ge,ye=function(){var e=Object(u.useState)(""),t=Object(y.a)(e,2),n=t[0],r=t[1],c=Object(u.useState)(!1),a=Object(y.a)(c,2),i=a[0],o=a[1],s=Object(u.useState)(null),l=Object(y.a)(s,2),d=l[0],b=l[1],p=Object(u.useState)(null),f=Object(y.a)(p,2),j=f[0],h=f[1];Object(u.useEffect)((function(){if(null!==d){i?d.start():d.stop();var e=function(e){h(e.data);var t=URL.createObjectURL(e.data);r(t)};return d.addEventListener("dataavailable",e),function(){return d.removeEventListener("dataavailable",e)}}i&&function(){return me.apply(this,arguments)}().then(b,console.error)}),[d,i]);return[n,i,function(){o(!0)},function(){o(!1)},j,h,r]},we=["title","titleId"];function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ce(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function Ie(e,t){var n=e.title,r=e.titleId,c=Ce(e,we);return u.createElement("svg",ke({width:64,height:64,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),n?u.createElement("title",{id:r},n):null,Oe||(Oe=u.createElement("rect",{width:64,height:64,rx:32,fill:"#0085FF"})),xe||(xe=u.createElement("rect",{width:19.2,height:28.16,transform:"translate(22.8571 18.2861)",fill:"#0085FF"})),ve||(ve=u.createElement("path",{d:"M22.8571 30.2539C22.8571 33.7739 24.7771 40.1099 32.4571 40.1099M32.4571 40.1099C40.1371 40.1099 42.0571 33.7739 42.0571 30.2539M32.4571 40.1099V46.4459",stroke:"white",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),ge||(ge=u.createElement("rect",{x:28.7358,y:19.2861,width:7.6,height:14.896,rx:3.8,stroke:"white",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}var Ee,Me,Se,Fe,Re,Ne,Be,Pe=u.forwardRef(Ie),He=(n.p,Object(F.b)(B)(Ee||(Ee=Object(w.a)(["\n  color: ",";\n"])),C)),Te=function(e){var t=e.startRecord,n=e.hasHistory;return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(H,{onClick:t,children:Object(be.jsx)(Pe,{})}),Object(be.jsx)(He,{children:"".concat(n?"Record new Voice Description":"Start recording now"," ")})]})},_e=n(42),De=n.n(_e),Je=n(8),Le=n.n(Je),Ue=F.b.div(Me||(Me=Object(w.a)(["\n  display: flex;\n  align-items: center;\n"]))),Ve=function(e){var t=e.blobDuration,n=e.handleTimeout,r=e.isRecording;return Object(be.jsxs)(Ue,{children:[t>0&&Object(be.jsx)(Le.a,{initialTime:0,direction:"forward",startImmediately:!1,checkpoints:[{time:1e3*t-1e3,callback:function(){return n()}}],children:function(e){var t=e.start,n=e.pause,r=e.stop,c=e.reset;return Object(be.jsxs)(d.a.Fragment,{children:[Object(be.jsx)(Le.a.Minutes,{}),":",Object(be.jsx)(Le.a.Seconds,{formatValue:function(e){return"".concat(e<10?"0".concat(e):e," / ")}}),Object(be.jsx)("button",{style:{display:"none"},id:"leftTimerBtnPlay",onClick:t}),Object(be.jsx)("button",{style:{display:"none"},id:"leftTimerBtnPause",onClick:n}),Object(be.jsx)("button",{style:{display:"none"},id:"leftTimerBtnReset",onClick:c}),Object(be.jsx)("button",{style:{display:"none"},id:"leftTimerBtnStop",onClick:r})]})}}),Object(be.jsx)(Le.a,{initialTime:1e3*t,direction:"forward",startImmediately:r,children:function(e){e.start,e.pause,e.stop;return Object(be.jsxs)(d.a.Fragment,{children:[Object(be.jsx)(Le.a.Minutes,{}),":",Object(be.jsx)(Le.a.Seconds,{formatValue:function(e){return"".concat(e<10?"0".concat(e):e)}})]})}})]})},We=F.b.div(Se||(Se=Object(w.a)(["\n  background-color: ",";\n  width: 70%;\n  height: 65px;\n  border-radius: 50px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"])),I),ze=F.b.div(Fe||(Fe=Object(w.a)(["\n  display: none;\n"]))),Ae=Object(F.b)(H)(Re||(Re=Object(w.a)([""]))),Ge=function(e){var t=e.handleAdd,n=Object(u.useRef)(null),r=Object(u.useState)(0),c=Object(y.a)(r,2),a=c[0],i=c[1],o=Object(u.useState)(!1),s=Object(y.a)(o,2),l=s[0],d=s[1],b=ye(),p=Object(y.a)(b,7),f=p[0],j=p[1],h=p[2],m=p[3],O=p[4],x=p[5],w=p[6],k=Object(u.useCallback)((function(){n.current.play(),document.getElementById("leftTimerBtnPlay").click()}),[n]),C=Object(u.useCallback)((function(){n.current.pause(),document.getElementById("leftTimerBtnPause").click()}),[n]),I=Object(u.useCallback)((function(){m()}),[m]);return Object(u.useEffect)((function(){O&&f&&function(){var e=Object(g.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,De()(f);case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[O,f]),Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(ze,{children:Object(be.jsx)("audio",{src:f,controls:!0,ref:n,type:"audio/mp4"})}),j||O?Object(be.jsxs)(We,{children:[Object(be.jsx)(H,{onClick:function(){m(),w(""),i(0),x(null)},children:O&&Object(be.jsx)(W,{})}),(a>0||j)&&Object(be.jsx)(Ve,{blobDuration:a,isRecording:j,handleTimeout:function(){document.getElementById("leftTimerBtnReset").click(),document.getElementById("leftTimerBtnStop").click(),d(!1)}}),j?Object(be.jsx)(Ae,{onClick:I,children:Object(be.jsx)(X,{})}):Object(be.jsx)(he,{play:k,pause:C,isReplay:l,setIsReplay:d})]}):Object(be.jsx)(Te,{startRecord:function(){h()}}),!j&&O?Object(be.jsx)(je,{handleAdd:t,blob:O}):null]})},Qe=Object(F.b)(R)(Ne||(Ne=Object(w.a)([""]))),qe=Object(F.b)(N)(Be||(Be=Object(w.a)([""]))),Ze=function(){return Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(Qe,{children:"Welcome to Voice Description!"}),Object(be.jsx)(qe,{children:"A more effective way to explain your task to others"})]})},Xe=n(43),Ye=n.n(Xe).a.create({headers:{"Content-Type":"multipart/form-data"}});!function(e,t){t?e.defaults.headers.common.Authorization=t:delete e.defaults.headers.common.Authorization}(Ye,"eyJhbGciOiJIUzI1NiJ9.eyJ0aWQiOjExMzE4NzU1NywidWlkIjoyMjYwNDQ1MCwiaWFkIjoiMjAyMS0wNi0xMFQxMDowNTo1MS44NzdaIiwicGVyIjoibWU6d3JpdGUiLCJhY3RpZCI6OTE5NjAxNCwicmduIjoidXNlMSJ9.MIJ6sN_Rqnfkpfkl51eBCBQMgx_RPNvBGRXMlmTrUKs");var $e,Ke,et,tt,nt,rt,ct,at,it,ot,st=Ye,lt=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,r,c,a,i,o,s,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.mondayInstance,r=t.blob,c=t.currentItemId,a=t.messageNumber,i=t.voiceMessageTitle,o="voice_description_".concat(a),e.prev=2,s=ut(r,o),e.next=6,dt(n,c,i);case 6:return l=e.sent,e.next=9,bt(l,s);case 9:return e.abrupt("return",{msg:"success"});case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return",{msg:e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),ut=function(e,t){e.lastModifiedDate=new Date,e.name=t;var n=e.slice(0,e.size,"video/mp4");return new File([e],t,{type:n.type})},dt=function(){var e=Object(g.a)(v.a.mark((function e(t,n,r){var c,a,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="mutation {\n        create_update (item_id: ".concat(n,", body: ").concat(r,") {\n        id\n        }\n        }"),e.next=3,t.api(c);case 3:return a=e.sent,i=a.data.create_update.id,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),bt=function(){var e=Object(g.a)(v.a.mark((function e(t,n){var r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("variables[file]",n,n.name),c="mutation addFile($file: File!) {add_file_to_update (update_id: ".concat(t,", file: $file) {id}}"),r.append("query",c),e.next=6,st.post("https://api.monday.com/v2/",r);case 6:e.sent;case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pt=function(){var e=Object(g.a)(v.a.mark((function e(t){var n,r,c,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get("context");case 3:return n=e.sent,r=n.data,c=r.itemId,a=r.theme,e.abrupt("return",{msg:"success",itemIdResponse:c,theme:a});case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",{msg:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ft=function(){var e=Object(g.a)(v.a.mark((function e(t,n){var r,c,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=" query {items( ids : ".concat(n,") {\n          updates {\n            id\n            body\n            created_at\n            creator{\n              name\n              photo_tiny\n            }\n            assets {\n              id\n              public_url\n            }\n          }\n        }}"),e.prev=1,e.next=4,t.api(r);case 4:return c=e.sent,e.next=7,jt(c);case 7:return a=e.sent,e.abrupt("return",{msg:"success",messagesHistory:a});case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",{msg:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),jt=function(){var e=Object(g.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.data.items[0].updates.length>0)){e.next=3;break}return n=t.data.items[0].updates.filter((function(e){var t=e.assets;return t.length&&ht(t)})),e.abrupt("return",n);case 3:return e.abrupt("return",null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ht=function(e){return e.filter((function(e){return e.public_url.includes("voice_description")})).length},mt={color:"".concat(k),background:"".concat(S),borderBottom:"".concat(E)},Ot={color:"".concat(S),background:"".concat(k),borderBottom:"".concat(S)},xt=n(44),vt=n.n(xt).a,gt=F.b.div($e||($e=Object(w.a)(["\n  color: ",";\n  margin-bottom: 30px;\n"])),(function(e){return e.theme.color})),yt=F.b.div(Ke||(Ke=Object(w.a)(["\n  margin-bottom: 10px;\n  padding: 20px;\n  border-bottom: 1px solid white;\n"]))),wt=F.b.div(et||(et=Object(w.a)(["\n  display: flex;\n  margin-bottom: 27px;\n  & img {\n    margin-right: 10px;\n    border-radius: 50%;\n  }\n\n  .vertical-center {\n    line-height: 30px;\n  }\n\n  & .creator {\n    text-transform: capitalize;\n  }\n\n  & .time-icon {\n    margin-right: 5px;\n  }\n\n  & .time {\n    margin-right: 10px;\n  }\n\n  & .trash-icon {\n    cursor: pointer;\n  }\n"]))),kt=F.b.div(tt||(tt=Object(w.a)(["\n  text-transform: capitalize;\n  margin-bottom: 19px;\n"]))),Ct=F.b.div(nt||(nt=Object(w.a)(["\n  margin-left: auto;\n"]))),It=function(e){var t=e.messagesHistory,n=e.handleDeleteVmFromDb,r=e.isDeleting,c=Object(u.useState)(null),a=Object(y.a)(c,2),i=a[0],o=a[1];return Object(be.jsx)(gt,{children:t.map((function(e,t){var c=e.id,a=e.assets,s=e.creator,l=e.body,u=e.created_at;return r&&i===c?Object(be.jsx)(vt,{}):Object(be.jsxs)(yt,{children:[Object(be.jsxs)(wt,{children:[Object(be.jsx)("img",{src:s.photo_tiny,alt:""}),Object(be.jsx)("span",{className:"creator vertical-center",children:s.name}),Object(be.jsxs)(Ct,{children:[Object(be.jsx)("span",{className:"time-icon vertical-center",children:"i"}),Object(be.jsx)("span",{className:"time vertical-center",children:u}),Object(be.jsx)("span",{className:"trash-icon  vertical-center",onClick:function(){o(c),n(c)},children:"trash"})]})]}),Object(be.jsxs)("div",{children:[Object(be.jsx)(kt,{children:l}),Object(be.jsx)("audio",{src:a[0].public_url,controls:!0})]})]},t)}))})},Et=function(){var e=Object(g.a)(v.a.mark((function e(t,n){var r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="mutation {\n        delete_update (id: ".concat(n,") {\n        id\n        }\n        }\n        "),e.prev=1,e.next=4,t.api(r);case 4:return c=e.sent,e.abrupt("return",{msg:"success",deletedUpdateId:c.data.delete_update.id});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{msg:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),Mt=F.b.div(rt||(rt=Object(w.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  color: ",";\n"])),(function(e){return e.theme.color})),St=Object(F.b)(P)(ct||(ct=Object(w.a)(["\n  background: ",";\n  text-align: center;\n  margin: ",";\n  height: ",";\n  border-bottom: ",";\n  width: 100%;\n  justify-content: center;\n"])),(function(e){return e.theme.background}),(function(e){return e.hasHistory?"0":"49px 0 32px 0"}),(function(e){return e.hasHistory&&"250px"}),(function(e){var t=e.hasHistory,n=e.theme;return t&&"1px solid ".concat(n.borderBottom," ")})),Ft=Object(F.b)(P)(at||(at=Object(w.a)(["\n  width: 40%;\n"]))),Rt=F.b.div(it||(it=Object(w.a)(["\n  margin: 40px auto 0 auto;\n\n   ol {\n    margin-top: 60px;\n  }\n"]))),Nt=F.b.div(ot||(ot=Object(w.a)(["\n  font-weight: bold;\n"]))),Bt=function(e){var t=e.mondayInstance,n=Object(u.useState)(null),r=Object(y.a)(n,2),c=r[0],a=r[1],i=Object(u.useState)([]),o=Object(y.a)(i,2),s=o[0],l=o[1],d=Object(u.useState)(!0),b=Object(y.a)(d,2),p=b[0],f=b[1],j=Object(u.useState)(!1),h=Object(y.a)(j,2),m=h[0],x=h[1],w=Object(u.useState)(!1),k=Object(y.a)(w,2),C=k[0],I=k[1],E=Object(u.useState)(""),M=Object(y.a)(E,2),S=M[0],R=M[1],N=Object(u.useState)(null),B=Object(y.a)(N,2),P=B[0],H=B[1],T=Object(u.useState)(null),_=Object(y.a)(T,2),D=(_[0],_[1]),J=Object(u.useCallback)(function(){var e=Object(g.a)(v.a.mark((function e(n,r){var a,i,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),f(!0),a=s?s.length+1:0,i={mondayInstance:t,blob:r,currentItemId:c,messageNumber:a,voiceMessageTitle:n},e.next=6,lt(i);case 6:o=e.sent,f(!1),"success"!==o.msg&&D(o.msg);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[c,t,s]);Object(u.useEffect)((function(){navigator.permissions.query({name:"microphone"}).then((function(e){"denied"===e.state&&H("Please allow microphone access in order to use this feature"),e.onchange=function(){console.log("Permission changed to "+this.state),"denied"===e.state?H("Please allow microphone access in order to use this feature"):H(null)}})),function(){var e=Object(g.a)(v.a.mark((function e(){var n,r,c,i,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt(t);case 2:return n=e.sent,r=n.itemIdResponse,c=n.theme,R(c),a(r),e.next=9,ft(t,r);case 9:i=e.sent,o=i.messagesHistory,"success"===i.msg&&o&&l(Object(O.a)(o)),f(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),Object(u.useEffect)((function(){C&&!1===p&&(function(){var e=Object(g.a)(v.a.mark((function e(){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ft(t,c);case 2:n=e.sent,r=n.messagesHistory,"success"===n.msg&&r&&l(Object(O.a)(r)),f(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),I(!1))}),[C,c,t,p]);var L="light"===S?mt:Ot,U=function(){var e=Object(g.a)(v.a.mark((function e(n){var r,c,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,Et(t,n);case 3:r=e.sent,c=r.msg,a=r.deletedUpdateId,"success"===c&&l((function(e){Object(O.a)(e);return s.filter((function(e){return e.id!==a}))})),x(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=s.length>0;return Object(be.jsx)(F.a,{theme:L,children:p?Object(be.jsx)(vt,{}):Object(be.jsx)(Mt,{children:P?Object(be.jsxs)(Rt,{children:[Object(be.jsx)(Nt,{children:P.toUpperCase()}),Object(be.jsxs)("ol",{children:[Object(be.jsx)("li",{children:" Open Chrome."}),Object(be.jsx)("li",{children:" At the top right, click More."}),Object(be.jsx)("li",{children:" Settings."}),Object(be.jsx)("li",{children:' Under "Privacy and security," click Site settings.'}),Object(be.jsx)("li",{children:" Click Microphone."}),Object(be.jsx)("li",{children:" Turn on or off Ask before accessing."}),Object(be.jsx)("li",{children:" Refresh the page"})]})]}):Object(be.jsxs)(be.Fragment,{children:[Object(be.jsx)(St,{hasHistory:V,children:Object(be.jsxs)(Ft,{children:[!V&&Object(be.jsx)(Ze,{}),Object(be.jsx)(Ge,{handleAdd:J})]})}),s.length>0&&Object(be.jsx)(It,{isDeleting:m,messagesHistory:s,handleDeleteVmFromDb:U})]})})})},Pt=n(45),Ht=n.n(Pt)()({clientId:"4e35caa6c69460ae555a974852334926",apiToken:"eyJhbGciOiJIUzI1NiJ9.eyJ0aWQiOjExMzE4NzU1NywidWlkIjoyMjYwNDQ1MCwiaWFkIjoiMjAyMS0wNi0xMFQxMDowNTo1MS44NzdaIiwicGVyIjoibWU6d3JpdGUiLCJhY3RpZCI6OTE5NjAxNCwicmduIjoidXNlMSJ9.MIJ6sN_Rqnfkpfkl51eBCBQMgx_RPNvBGRXMlmTrUKs"}),Tt=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(f.a)(this,n),(r=t.call(this,e)).state={settings:{},name:""},r}return Object(j.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(be.jsx)("div",{className:"App",children:Object(be.jsx)(Bt,{mondayInstance:Ht})})}}]),n}(d.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));p.a.render(Object(be.jsx)(Tt,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},20:function(e,t,n){},54:function(e,t,n){}},[[101,1,2]]]);
//# sourceMappingURL=main.fd74ebc0.chunk.js.map